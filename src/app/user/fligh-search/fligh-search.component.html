
<form [formGroup]="searchForm" (ngSubmit)="showFlights()">
<div id="booking" class="section">
    <div class="section-center">
        <div class="container">
            <div class="row">
                <div class="booking-form">
                    
                        <div class="form-group">
                            <div class="form-checkbox">
                                <label for="roundtrip">
                                    <input type="radio" id="roundtrip" value="roundtrip"
                                     formControlName="flightType">
                                    <span></span>Roundtrip
                                </label>
                                <label for="oneway">
                                    <input type="radio" id="oneway" value="oneway" formControlName="flightType">
                                    <span></span>One way
                                </label>

                              
                            </div>
                        </div>
                    <div class="row">
                        <div class="col-md-6">
                                <div class="form-group" id="city" >
                                    <span class="form-label">Flying from</span>
                                    <input class="form-control" type="text" placeholder="City or airport"
                                    formControlName="from" (click)=' openFromDropDown() ' class='form-control'>
                                    <div  (click)="closeFromDropDown()" > 
                                        <div *ngIf='showFromDropDown' class='search-drop-down '>
                                            <div (click)='selectFromValue(airport)' class='search-results '
                                             *ngFor="let airport of airports | searchFilter: getSearchFromValue()">
                                                <a [innerHTML]="airport | letterBold: getSearchFromValue( )">
                                                       {{airport}}
                                                </a>
                                            </div>
                                        </div>
                                     </div>
                                     <div *ngIf="searchForm.get('from').touched && searchForm.get('from').invalid" 
                                     class="invalid-feedback">Source is required</div>
                                </div>
                            </div>

                        <div class="col-md-6">
                            <div class="form-group">
                                <span class="form-label">Flyning to</span>
                                <input class="form-control" type="text" placeholder="City or airport"
                                formControlName="to"  (click)='openToDropDown() ' class="form-control">
                                <div (click)="closeToDropDown()">
                                    <div *ngIf='showToDropDown' class='search-drop-down '>
                                        <div (click)='selectToValue(airport)' class='search-results ' 
                                        *ngFor="let airport of airports | searchFilterTo: getSearchToValue()">
                                            <a [innerHTML]="airport | letterBoldTo:getSearchToValue()">
                                                   {{airport}}
                                            </a>
                                      
                                        </div>
                                    </div>
                                </div>
                                <div *ngIf="searchForm.get('to').touched && searchForm.get('to').invalid" 
                                class="invalid-feedback">Destination is required</div>
                            </div>
                        </div>
                    </div>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <span class="form-label">Departing</span>
                                    <input class="form-control" type="date" required
                                    formControlName="departDate" [min]="getToday()">
                                </div>
                                <div *ngIf="searchForm.get('departDate').touched && searchForm.get('departDate').invalid" 
                                class="invalid-feedback">DepartDate is required</div>
                            </div>
                            <div class="col-md-6" *ngIf ="searchForm.get('flightType').value =='roundtrip'">
                                <div class="form-group">
                                    <span class="form-label">Returning</span>
                                    <input class="form-control" type="date" required formControlName="arrivalDate"
                                    [min]="getToday()" >
                                </div>
                                <div *ngIf="searchForm.get('arrivalDate').touched && searchForm.get('arrivalDate').invalid" 
                                class="invalid-feedback">arrivalDate is required</div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <span class="form-label">Adults (18+)</span>
                                    <input min="1" max="10" type="number" value="1" 
                                    class="form-control" formControlName="adults">
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <span class="form-label">Children (0-17)</span>
                                
                                    <input min="1" max="10" type="number" value="1" 
                                    class="form-control" formControlName="children">
                                   
                                </div>
                            </div>
                        </div>
                    
                        <div class="row">
                            <div class="col-md-5">
                                <div class="form-group">
                                    <span class="form-label">Travel class</span>
                                    <select class="form-control" formControlName="travelClass">
                                        <option value="economy">Economy class</option>
                                        <option value="business">Business class</option>
                                        <option value="first">First class</option>
                                    </select>
                                    <span class="select-arrow"></span>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="form-btn">
                                    <button type="submit" class="submit-btn" 
                                  
                                   >Show flights</button>
                                </div>
                            </div>
                        </div>
                    
                </div>
            </div>
        </div>
    </div>
</div>
</form>
